"use strict";var pagesCorrector={searchImagesColors:function(){var e=document.querySelector(".search input"),t=document.querySelector(".search__image:first-child");e.onfocus=function(){t.classList.add("active")},e.onblur=function(){t.classList.remove("active")}},liveSearch:function(){var e=document.querySelector(".search input"),t=document.querySelector(".search__image.location"),o=document.querySelector(".search__live-container"),r=o.querySelector(".search .live-list");function s(){var s=e.value.trim().toLowerCase().replace("[@#$%^&*().]",""),c=addresses.filter((function(e){return e.toLowerCase().includes(s)}));r.innerHTML="",t.classList.add("active"),s?(e.classList.add("active"),o.classList.add("active"),c.forEach((function(e){var t=document.createElement("li");t.classList.add("live-list__item"),t.textContent=e,t.dataset.address=e,r.insertAdjacentElement("beforeend",t)}))):n()}function n(){e.classList.remove("active"),o.classList.remove("active")}r.onclick=function(t){t.target.dataset.address&&(e.value=t.target.dataset.address,e.classList.add("green-paste"),n(),setTimeout((function(){e.classList.remove("green-paste")}),750))},e.oninput=s,e.onfocus=s},customScrollbars:function(){var e=document.querySelector(".search__live-container");new SimpleBar(e)},sliders:function(){var e;e=document.querySelector(".menu__slider"),new Swiper(e,{slidesPerView:"auto",watchOverflow:!0,spaceBetween:25}),document.querySelectorAll(".dishes__line").forEach((function(e){var t=new Swiper(e,{slidesPerView:1.1,spaceBetween:20,slidesOffsetBefore:15,grabCursor:!0,loop:!0,allowTouchMove:!0,autoHeight:!1,preloadImages:!1,watchSlidesProgress:!0,observer:!0,observeSlideChildren:!0,observeParents:!0,lazy:{loadPrevNext:!0,loadOnTransitionStart:!0},breakpoints:{410:{slidesPerView:1.3,slidesOffsetBefore:45},480:{slidesPerView:1.4,slidesOffsetBefore:65},515:{slidesPerView:1.7,slidesOffsetBefore:85},620:{slidesPerView:2.1,slidesOffsetBefore:15},760:{slidesPerView:2.3,slidesOffsetBefore:45},820:{slidesPerView:2.4,slidesOffsetBefore:65},860:{slidesPerView:2.7,slidesOffsetBefore:95},965:{slidesPerView:3.1,slidesOffsetBefore:15},1110:{slidesPerView:3.3,slidesOffsetBefore:45},1170:{slidesPerView:3.7,slidesOffsetBefore:95},1310:{slidesPerView:4.3,slidesOffsetBefore:45}},on:{slideChange:function(){var e=this;this.slides.forEach((function(t){t.classList.contains("in-basket")&&e.slides.forEach((function(e){e.dataset.dish===t.dataset.dish&&(e.classList.add("in-basket"),e.innerHTML=t.innerHTML)}))}))}}});e.classList.contains("no-loop")&&window.matchMedia("(min-width: 1310px)").matches&&t.loopDestroy()}))},parallax:function(){window.onscroll=function(){document.documentElement.style.setProperty("--scrollTop",window.scrollY+"px")}},anchors:function(){var e=document.querySelector(".menu"),t=document.querySelectorAll(".anchor");t.forEach((function(t){t.onclick=function(o){o.preventDefault();var r=document.querySelector(t.getAttribute("href")).getBoundingClientRect().top+window.scrollY;window.scrollTo({top:r-e.clientHeight,behavior:"smooth"})}}))},stickyMenu:function(){var e=document.querySelector(".menu"),t=e.querySelector(".menu__row"),o=e.getBoundingClientRect().top+window.scrollY,r=document.querySelector(".header__basket").cloneNode(!0),s=document.querySelector(".header"),n=window.matchMedia("(max-width: 410px)").matches;function c(){window.scrollY>=o||n&&window.scrollY+s.offsetHeight>=o?i():a()}function i(){e.classList.contains("sticky")||(e.classList.add("sticky"),document.body.style.marginTop=getComputedStyle(e).height,window.matchMedia("(max-width: 410px)").matches?function(){s.classList.add("hide-address");var t=getComputedStyle(s).height;e.style.top=t}():(!function(){if(e.querySelector(".basket"))return;e.classList.add("with-basket"),t.insertAdjacentElement("beforeend",r)}(),e.style.top=""))}function a(){e.classList.remove("sticky"),s.classList.remove("hide-address"),document.body.style.marginTop="",function(){e.classList.remove("with-basket");var o=t.querySelector(".basket");o&&o.remove()}()}a(),c(),window.addEventListener("scroll",c)},addToBasketIllusion:function(){var e=0,t={};function o(t){Array.from(t).forEach((function(t){return t.textContent=e}))}document.addEventListener("click",(function(r){var s=r.target.closest(".dish-card");if(s){var n=r.target.closest(".dish-add"),c=r.target.closest(".dish-plus"),i=r.target.closest(".dish-minus"),a=r.target.closest(".dish-delete"),l=s.querySelector(".dish-count"),d=document.getElementsByClassName("basket__count"),u=s.dataset.dish;n?(r.preventDefault(),e++,function(e,t){e.classList.add("in-basket"),t.textContent=1}(s,l),o(d)):(c||i||a)&&(t[u]||(t[u]=1),c&&t[u]+1<=10?(t[u]++,e++):i?(t[u]--,e--,t[u]<=0&&function(e,o){e.classList.remove("in-basket"),delete t[o],e.classList.contains("basket-item")&&e.remove()}(s,u)):a&&function(e,o){delete t[o],e.remove()}(s,u),l.textContent=t[u],o(d,t[u]))}}))},observeMenuSections:function(){var e=new IntersectionObserver((function(e){e.forEach((function(e){var t=e.target;e.isIntersecting?r({element:t,addActive:!0}):r({element:t,addActive:!1})}))}),{threshold:.5}),t=document.querySelectorAll(".dishes"),o=document.querySelectorAll(".menu .anchor");function r(e){var t=e.element,r=e.addActive;o.forEach((function(e){var o=e.closest(".menu-list__item");!r||o.classList.remove("active"),e.getAttribute("href").replace("#","").trim()===t.id&&(r?o.classList.add("active"):o.classList.remove("active"))}))}t.forEach((function(t){return e.observe(t)}))},burgerMenu:function(){var e=document.querySelector(".header__row"),t=e.querySelector(".burger"),o=document.querySelector(".footer__links");function r(r){var s=r.toggle,n=r.remove;s?(o.classList.toggle("active"),t.classList.toggle("active")):n&&(o.classList.remove("active"),t.classList.remove("active")),t.classList.contains("active")?o.insertAdjacentElement("beforeend",t):e.insertAdjacentElement("afterbegin",t)}t.addEventListener("click",(function(e){e.stopPropagation(),r({toggle:!0})})),document.addEventListener("click",(function(e){e.target.closest(".footer__links")||r({remove:!0})}))},byClickOnDishes:function(){document.addEventListener("click",(function(e){var t=e.target.closest(".dish");t&&(window.location=t.dataset.href)}))},byClickLinkButtons:function(){document.addEventListener("click",(function(e){e.target.closest(".ignore-link")&&e.preventDefault()}))},accordeonClicks:function(){var e=document.querySelectorAll(".answer");function t(e){e.classList.remove("active"),e.style.height="",pagesCorrector.accordeon.setHeight(e)}e.forEach((function(o){o.onclick=function(){!function(o){e.forEach((function(e){o!==e&&(e.classList.remove("active"),t(e))}))}(o),o.classList.contains("active")?t(o):function(e){e.classList.add("active"),e.style.height=e.scrollHeight-20+"px"}(o)}}))},accordeonHeight:function(){var e=this;document.querySelectorAll(".answer").forEach((function(t){e.accordeon.setHeight(t)}))},accordeon:{setHeight:function(e){var t=e.querySelector(".answer__visible");e.style.height=getComputedStyle(t).height}},modalEmptyBasket:function(){var e=document.querySelector(".empty");if(e){var t=e.querySelector(".empty__close"),o=document.querySelector(".basket");o.addEventListener("click",(function(t){o.classList.contains("empty-basket")&&(t.stopPropagation(),t.preventDefault(),e.classList.add("active"))})),t.onclick=r,document.addEventListener("click",(function(t){e.classList.contains("active")&&t.target===e&&r()}))}function r(){e.classList.remove("active")}},inputMasks:function(){var e=document.querySelector(".order-form__tel"),t=document.querySelector(".order-form__time");if(e||t){var o=new Inputmask("+7-(999)-999-99-99"),r=new Inputmask({regex:"[0-2][0-9]:[0-9][0-9]"});o.mask(e),r.mask(t)}},setTimeInput:function(){var e=document.querySelector('.order-form__when-info input[name="when-time"]');e&&e.addEventListener("keydown",(function(t){var o=parseFloat(e.value);if(Number.isNaN(o)){var r=t.key;r>2&&(e.value="0".concat(r))}}))},personCounter:function(){if(document.querySelector(".counter")){var e=document.querySelector(".counter__count"),t=document.querySelector(".counter__minus"),o=document.querySelector(".counter__plus"),r=1;t.addEventListener("click",(function(){s(r-1)&&--r,e.textContent=r})),o.addEventListener("click",(function(){s(r+1)&&++r,e.textContent=r}))}function s(e){return 1<=e&&e<=99}},replaceTextsOnMobile:function(){!function(){var e=document.querySelector(".order-form__pay-info .order-form__label_radio_2");if(!e)return;window.matchMedia("(max-width: 620px)").matches&&(e.textContent="Карта")}()},formFields:function(){var e=document.querySelectorAll('.order-form__delivery-info input[type="radio"]'),t=document.querySelector(".order-form__you-radio-area"),o=document.querySelector(".order-form__me-radio-area"),r=document.querySelectorAll('.order-form__pay-info input[type="radio"]'),s=document.querySelector(".order-form__odd-money"),n=new Map([[e[0],function(){t.classList.add("active"),o.classList.remove("active")}],[e[1],function(){t.classList.remove("active"),o.classList.add("active")}]]),c=new Map([[r[0],function(){"block"!==s.style.display&&(s.style.display="block")}],[r[1],function(){"none"!==s.style.display&&(s.style.display="none")}],[r[2],function(){"block"!==s.style.display&&(s.style.display="block")}]]);e.forEach((function(t,o){t.addEventListener("input",n.get(e[o]))})),r.forEach((function(e,t){e.addEventListener("input",c.get(r[t]))}))},setChoices:function(){var e=document.querySelector(".order-form__select");e&&new Choices(e,{searchEnabled:!1,shouldSort:!1,itemSelectText:"",placeholder:!0,placeholderValue:"Выбирай ресторан"})},adaptiveIframes:function(){var e=document.querySelector(".contacts__map");if(e){var t,o={desktop:"https://yandex.ru/map-widget/v1/?um=constructor%3Aa49278fee8b4fc92e5fdb8aff3b9cb847ed4e4b7b3df97de61dfa7352ebc9939&amp;source=constructor",mobile:"https://yandex.ru/map-widget/v1/?um=constructor%3A20a242187ac28497c533123bf0c9676debfdac38781d17af870af0e3d16f4134&amp;source=constructor"},r={desktop:"desktop-iframe",mobile:"mobile-iframe"},s=null;window.matchMedia("(max-width: 910px)").matches&&!c().mobile?s=n(o.mobile,r.mobile):c().desktop||(s=n(o.desktop,r.desktop)),!s||(t=s,e.insertAdjacentElement("afterbegin",t))}function n(e,t){var o=document.createElement("iframe");return o.classList.add(t),o.src=e,o.width="100%",o.height="600px",o}function c(){return{desktop:Boolean(document.querySelector("."+r.desktop)),mobile:Boolean(document.querySelector("."+r.mobile))}}},hideOrderInputsPlaceholders:function(){document.querySelectorAll(".order-form__input-block").forEach((function(e){var t=e.querySelector("input"),o=e.querySelector(".input-text");function r(e){e.classList.remove("hide"),e.classList.add("active")}r(o),t.addEventListener("change",(function(){t.value.length>0?function(e){e.classList.remove("active"),e.classList.add("hide")}(o):r(o)}))}))}};function applyAll(){document.addEventListener("DOMContentLoaded",(function(){try{pagesCorrector.searchImagesColors(),pagesCorrector.liveSearch(),pagesCorrector.customScrollbars(),pagesCorrector.sliders(),pagesCorrector.anchors(),pagesCorrector.addToBasketIllusion(),pagesCorrector.stickyMenu(),pagesCorrector.observeMenuSections(),pagesCorrector.burgerMenu(),pagesCorrector.byClickLinkButtons(),pagesCorrector.accordeonClicks(),pagesCorrector.accordeonHeight(),pagesCorrector.modalEmptyBasket(),pagesCorrector.inputMasks(),pagesCorrector.personCounter(),pagesCorrector.replaceTextsOnMobile(),pagesCorrector.formFields(),pagesCorrector.setChoices(),pagesCorrector.setTimeInput(),pagesCorrector.adaptiveIframes(),pagesCorrector.hideOrderInputsPlaceholders()}catch(e){console.error(e)}}))}function applyAdaptive(){pagesCorrector.stickyMenu(),pagesCorrector.accordeonHeight(),pagesCorrector.replaceTextsOnMobile(),pagesCorrector.adaptiveIframes()}applyAll(),window.addEventListener("resize",applyAdaptive);